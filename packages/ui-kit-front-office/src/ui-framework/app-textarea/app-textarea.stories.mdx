import { Meta, Story, Canvas, Source, ArgsTable } from '@storybook/addon-docs';
import { APP_COMPONENTS_SIZE } from '@sdk5/shared/constants';
import AppTextarea from './app-textarea.vue';
import { APP_TEXTAREA_SIZES } from './constants';
const argTypes = {
  label: { control: { type: 'text' } },
  placeholder: { control: { type: 'text' } },
  disabled: { control: { type: 'boolean' } },
  rows: { control: { type: 'number' } },
  size: { control: { type: 'radio', options: APP_TEXTAREA_SIZES } },
  value: { control: false },
};
const DEFAULT_PROPS = {
  size: APP_COMPONENTS_SIZE.medium,
  label: 'Textarea label',
  placeholder: 'Placeholder',
  disabled: false,
  isError: false,
};

<Meta
  title="ui-framework/AppTextarea"
  component={AppTextarea}
  argTypes={argTypes}
/>

export const Template = (args, { argTypes }) => ({
  props: [...Object.keys(argTypes), 'isError'],
  components: { AppTextarea },
  data: () => ({
    text: '',
  }),
  template: `
      <div class="el-form-item" :class="[isError && 'is-error']">
        <app-textarea
          v-model="text"
          :rows="rows"
          :size="size"
          :placeholder="placeholder"
          :disabled="disabled"
          :label="label"/>
      </div>
    `,
});

## AppInput

### Default

<Canvas>
  <Story
    name="Default (medium size)"
    args={{ ...DEFAULT_PROPS }}>
    {Template.bind({})}
  </Story>
</Canvas>

### Large

<Canvas>
  <Story
    name="Large size"
    args={{ ...DEFAULT_PROPS, size: APP_COMPONENTS_SIZE.large, label: 'Large' }}>
    {Template.bind({})}
  </Story>
</Canvas>

### Small

<Canvas>
  <Story
    name="Small size"
    args={{ ...DEFAULT_PROPS, size: APP_COMPONENTS_SIZE.small, label: 'Small' }}>
    {Template.bind({})}
  </Story>
</Canvas>

### Ultra small

<Canvas>
  <Story
    name="Ultra small size"
    args={{ ...DEFAULT_PROPS, size: APP_COMPONENTS_SIZE.ultraSmall, label: 'Ultra small' }}>
    {Template.bind({})}
  </Story>
</Canvas>

### Disabled state

<Canvas>
  <Story
    name="Disabled state"
    args={{ ...DEFAULT_PROPS, disabled: true }}>
    {Template.bind({})}
  </Story>
</Canvas>

### Error state

<Canvas>
  <Story
    name="Error state"
    args={{ ...DEFAULT_PROPS, isError: true }}>
    {Template.bind({})}
  </Story>
</Canvas>

## Props

<ArgsTable of={AppTextarea} />
