import { Meta, Story, Canvas, ArgsTable, Source } from '@storybook/addon-docs';
import AppSelect from './app-select.vue';
import { APP_SELECT_SIZES } from './constants';
import { ACCOUNTS } from '@sdk5/shared/constants';
export const argTypes = {
  size: { control: { type: 'radio', options: Object.values(APP_SELECT_SIZES) } },
};

<Meta
  title="ui-framework/AppSelect"
  component={AppSelect}
  argTypes={argTypes}
/>

export const Template = (args, { argTypes }) => ({
  props: Object.keys(argTypes),
  components: { AppSelect },
  data: () => ({
    currentAccount: '',
  }),
  template: `
      <div class="relative">
        <app-select
          v-model="currentAccount"
          class="el-form-item"
          placeholder="placeholder.select.choose_role"
          value-key="login"
          :label="label"
          :is-dropdown="isDropdown"
          :is-dropdown-simple="isDropdownSimple"
          :options="options"
          :size="size"
          :filterable="filterable"
          :disabled="disabled"
          :multiple="multiple"
          option-label="label">
          <template #prefix>
            <div v-if="isDropdown && !isDropdownSimple" class="h-full flex items-center">
              <img
                src="/images/currencies/usd.svg"
                class="w-18 h-18">
            </div>
          </template>
        </app-select>
      </div>
    `,
});

## AppSelect

Example:

<Source
  code={`<app-select
      v-model="currentAccount"
      class="el-form-item"
      placeholder="placeholder.select.choose_role"
      value-key="login"
      :is-dropdown="isDropdown"
      :is-dropdown-simple="isDropdownSimple"
      :options="accounts"
      option-label="label"/>
`}
/>

### Default

<Canvas>
  <Story
    name="Default view"
    args={{ options: ACCOUNTS }}>
    {Template.bind({})}
  </Story>
</Canvas>

### Icons in options

<Canvas>
  <Story
    name="Icons in options"
    args={{ options: ACCOUNTS.map((item) => ({ ...item, icon: 'el-icon-arrow-down' })) }}>
    {Template.bind({})}
  </Story>
</Canvas>

### isDropdown view

<Canvas>
  <Story
    name="Secondary view"
    args={{ options: ACCOUNTS, isDropdown: true }}>
    {Template.bind({})}
  </Story>
</Canvas>

### isDropdownSimple view

<Canvas>
  <Story
    name="With badge view"
    args={{ options: ACCOUNTS, isDropdown: true, isDropdownSimple: true, label: 'All' }}>
    {Template.bind({})}
  </Story>
</Canvas>

## Props

<ArgsTable story="Default view" />
